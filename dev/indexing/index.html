<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Array Indexing · ArrayTools package for Julia</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">ArrayTools package for Julia</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><a class="tocitem" href="../install/">Installation</a></li><li><a class="tocitem" href="../storage/">Array storage</a></li><li class="is-active"><a class="tocitem" href>Array Indexing</a></li><li><a class="tocitem" href="../rubberindex/">Rubber indices</a></li><li><a class="tocitem" href="../broadcasting/">Broadcasting of arrays</a></li><li><a class="tocitem" href="../reference/">Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Array Indexing</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Array Indexing</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/emmt/ArrayTools.jl/blob/master/docs/src/indexing.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Array-Indexing"><a class="docs-heading-anchor" href="#Array-Indexing">Array Indexing</a><a id="Array-Indexing-1"></a><a class="docs-heading-anchor-permalink" href="#Array-Indexing" title="Permalink"></a></h1><p>The <a href="../reference/#ArrayTools.all_indices"><code>all_indices</code></a> method takes any number of array arguments and yields an efficient iterator for visiting all indices each index of the arguments. Its behavior is similar to that of <code>eachindex</code> method except that <code>all_indices</code> throws a <code>DimensionMismatch</code> exception if linearly indexed arrays have different axes while <code>eachindex</code> just checks that such arrays have the same number of elements. It is always safe to specify <code>@inbounds</code> (and <code>@simd</code> or <code>@turbo</code> from the <code>LoopVectorization</code> package) for a loop like:</p><pre><code class="language-julia hljs">for i in all_indices(A, B, C, D)
   A[i] = B[i]*C[i] + D[i]
end</code></pre><p>An alternative is to call the <a href="../reference/#ArrayTools.@assert_same_axes"><code>@assert_same_axes</code></a> macro which throws a <code>DimensionMismatch</code> exception if the provided arguments are not arrays with the same axes. For example:</p><pre><code class="language-julia hljs">@assert_same_axes A B C D
@inbounds for i in eachindex(A, B, C, D)
   A[i] = B[i]*C[i] + D[i]
end</code></pre><p>where the macro call amounts to:</p><pre><code class="language-julia hljs">axes(A) == axes(B) == axes(C) == axes(D) ? nothing : throw(DimensionMismatch(&quot;...&quot;))</code></pre><p>The <code>eachindex</code> and <a href="../reference/#ArrayTools.all_indices"><code>all_indices</code></a> methods are very useful when writing loops over array elements so as to be agnostic to which specific indexing rule is the most suitable. Some algorithms are however more efficient or easier to write if all involved arrays are indexed by a single 1-based index. <code>ArrayTools</code> provides <a href="../reference/#ArrayTools.is_fast_array"><code>is_fast_array</code></a> to check whether arrays are suitable for fast indexing:</p><pre><code class="language-julia hljs">is_fast_array(A) -&gt; bool</code></pre><p>to check array <code>A</code> or:</p><pre><code class="language-julia hljs">is_fast_array(A, B, ...) -&gt; bool</code></pre><p>to check several arrays <code>A</code>, <code>B</code>, ... at the same time. <code>ArrayTools</code> also provides <a href="../reference/#ArrayTools.to_fast_array"><code>to_fast_array</code></a> to convert an array to fast linear indexing if this is needed:</p><pre><code class="language-julia hljs">to_fast_array(A)</code></pre><p>checks whether array <code>A</code> is suitable for fast indexing (by a single integer starting at 1); if it does, <code>A</code> is returned to the caller; otherwise, the contents of <code>A</code> is converted to a suitable array type implementing fast indexing and is returned to the caller.</p><p>The method <a href="../reference/#ArrayTools.has_standard_indexing"><code>has_standard_indexing</code></a> can be called to check whether one or several arrays have standard 1-based indexing though they not necessarily implement fast linear indexing.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../storage/">« Array storage</a><a class="docs-footer-nextpage" href="../rubberindex/">Rubber indices »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Friday 14 July 2023 05:16">Friday 14 July 2023</span>. Using Julia version 1.9.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
